<!-- departments.component.html -->
<div class="container-fluid">
<button type="button" class="btn btn-sm btn-danger" (click)="deleteSelected()">Delete Selected Dept</button>
<table class="table">
    <thead>
      <tr>
        <th>
            <input type="checkbox" (change)="toggleSelectAll($event)" > Select All
        </th>
        <th>ID</th>
        <th>Name</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
    </thead>
    <tbody>
      <tr  *ngFor="let department of departments">
        <td>
            <input type="checkbox"
            [checked]="selectedDepartments.includes(department.id)" 
            (change)="toggleSelection($event,department.id,department.name)" >
        </td>
        <td>{{ department.id }}</td>
        <td>{{ department.name }}</td>
        <td>
          <button 
              type="button" 
              class="btn btn-sm"
              [ngClass]="{
                'btn-success':department.status=='Active',
                'btn-danger':department.status=='Inactive'
              }">
              {{department.status }}
          </button>
        </td>
        <td>
            <button type="button" class="btn btn-sm btn-danger"  (click)="deleteDepartment(department.id)">Delete</button>
            <button type="button" class="btn btn-sm btn-primary" (click)="viewDetails(department.id)">View</button>
        </td>
      </tr>
    </tbody>
  </table>
</div>
